(function(_0x3b7687,_0x3d91e5){const _0x3a6d15=_0x5d06,_0x35ef3a=_0x3b7687();while(!![]){try{const _0x44750d=-parseInt(_0x3a6d15(0x234))/0x1+-parseInt(_0x3a6d15(0x1fd))/0x2*(-parseInt(_0x3a6d15(0x1f4))/0x3)+parseInt(_0x3a6d15(0x212))/0x4*(parseInt(_0x3a6d15(0x200))/0x5)+parseInt(_0x3a6d15(0x20c))/0x6+parseInt(_0x3a6d15(0x224))/0x7+-parseInt(_0x3a6d15(0x1f9))/0x8+parseInt(_0x3a6d15(0x22c))/0x9*(-parseInt(_0x3a6d15(0x1fb))/0xa);if(_0x44750d===_0x3d91e5)break;else _0x35ef3a['push'](_0x35ef3a['shift']());}catch(_0x3093c4){_0x35ef3a['push'](_0x35ef3a['shift']());}}}(_0x3036,0x27986));function _0x5d06(_0x1b172e,_0xf5d35e){const _0x3036bc=_0x3036();return _0x5d06=function(_0x5d063e,_0x5455ac){_0x5d063e=_0x5d063e-0x1f2;let _0x374aaa=_0x3036bc[_0x5d063e];return _0x374aaa;},_0x5d06(_0x1b172e,_0xf5d35e);}function _0x20d2(){const _0x2d698e=_0x5d06,_0x4e2af0=[_0x2d698e(0x22a),'React',_0x2d698e(0x217),_0x2d698e(0x218),_0x2d698e(0x216),_0x2d698e(0x219),'exception',_0x2d698e(0x1fe),_0x2d698e(0x1ff),_0x2d698e(0x231),_0x2d698e(0x21a),_0x2d698e(0x239),'return\x20(function()\x20',_0x2d698e(0x208),'gpt',_0x2d698e(0x1f2),_0x2d698e(0x1f6),_0x2d698e(0x21e),'utf-8',_0x2d698e(0x213),'remoteJid',_0x2d698e(0x210),_0x2d698e(0x215),_0x2d698e(0x203),_0x2d698e(0x206),'/forget',_0x2d698e(0x21b),_0x2d698e(0x232),_0x2d698e(0x21f),_0x2d698e(0x233),_0x2d698e(0x229),_0x2d698e(0x1f8),_0x2d698e(0x1f7),_0x2d698e(0x225),_0x2d698e(0x237),'prototype',_0x2d698e(0x1fc),_0x2d698e(0x22d),'info','1916GFVsCP',_0x2d698e(0x20e),'../mistral_history.json',_0x2d698e(0x209),_0x2d698e(0x22b),_0x2d698e(0x204),_0x2d698e(0x201),_0x2d698e(0x23a),'constructor',_0x2d698e(0x235),'parse',_0x2d698e(0x222),'error',_0x2d698e(0x238),'POST',_0x2d698e(0x236),_0x2d698e(0x227),_0x2d698e(0x1fa),'Error\x20writing\x20chat\x20history\x20to\x20file:','{}.constructor(\x22return\x20this\x22)(\x20)','Error:\x20',_0x2d698e(0x20a),_0x2d698e(0x211),_0x2d698e(0x21d),_0x2d698e(0x230),_0x2d698e(0x205),_0x2d698e(0x221),_0x2d698e(0x202),'relayMessage',_0x2d698e(0x1f3),_0x2d698e(0x223)];return _0x20d2=function(){return _0x4e2af0;},_0x20d2();}(function(_0x341e22,_0x2ad0da){const _0x3368d8=_0x5d06;function _0x52a4db(_0x4d54e7,_0x5888ca){return _0x1970(_0x4d54e7-0x25f,_0x5888ca);}const _0x595c7a=_0x341e22();while(!![]){try{const _0x1fe651=-parseInt(_0x52a4db(0x3af,0x3ba))/0x1+-parseInt(_0x52a4db(0x398,0x37e))/0x2+parseInt(_0x52a4db(0x3d0,0x3e9))/0x3+parseInt(_0x52a4db(0x3bf,0x3a9))/0x4*(parseInt(_0x52a4db(0x391,0x3b0))/0x5)+parseInt(_0x52a4db(0x3b6,0x3cf))/0x6+parseInt(_0x52a4db(0x397,0x39f))/0x7+parseInt(_0x52a4db(0x393,0x374))/0x8;if(_0x1fe651===_0x2ad0da)break;else _0x595c7a[_0x3368d8(0x209)](_0x595c7a['shift']());}catch(_0x4d2c2e){_0x595c7a[_0x3368d8(0x209)](_0x595c7a[_0x3368d8(0x236)]());}}}(_0x20d2,0x9e5b5));const _0xfac4e0=(function(){let _0x5ed9ea=!![];return function(_0x2fff68,_0x3a9452){const _0x484f62=_0x5ed9ea?function(){function _0x3f29eb(_0x1e686c,_0x8307f){return _0x1970(_0x1e686c- -0x2bb,_0x8307f);}if(_0x3a9452){const _0x1fd8cf=_0x3a9452[_0x3f29eb(-0x167,-0x15d)](_0x2fff68,arguments);return _0x3a9452=null,_0x1fd8cf;}}:function(){};return _0x5ed9ea=![],_0x484f62;};}()),_0xbc72b0=_0xfac4e0(this,function(){const _0x40506d=_0x5d06;let _0x1566f5;try{const _0x42c836=Function(_0x1a8f11(-0xc3,-0xb6)+_0x1a8f11(-0xc1,-0xce)+');');_0x1566f5=_0x42c836();}catch(_0x434732){_0x1566f5=window;}const _0x4035b3=_0x1566f5[_0x1a8f11(-0xb9,-0x96)]=_0x1566f5[_0x1a8f11(-0x97,-0x96)]||{},_0x15d388=[_0x1a8f11(-0xcb,-0xb2),'warn',_0x1a8f11(-0xb3,-0x9c),_0x1a8f11(-0x88,-0x8f),_0x1a8f11(-0xb2,-0xbc),_0x1a8f11(-0x77,-0x8b),_0x1a8f11(-0xb4,-0xb3)];function _0x1a8f11(_0x2d29b1,_0x50e8a7){return _0x1970(_0x50e8a7- -0x1fb,_0x2d29b1);}for(let _0x8b3552=0x0;_0x8b3552<_0x15d388[_0x1a8f11(-0xa3,-0xa5)];_0x8b3552++){const _0xfe5d55=_0xfac4e0[_0x1a8f11(-0xa8,-0x93)][_0x1a8f11(-0x7d,-0x9f)][_0x40506d(0x219)](_0xfac4e0),_0x1fca3b=_0x15d388[_0x8b3552],_0xb81d38=_0x4035b3[_0x1fca3b]||_0xfe5d55;_0xfe5d55[_0x1a8f11(-0x8c,-0xaf)]=_0xfac4e0[_0x1a8f11(-0xad,-0xbd)](_0xfac4e0),_0xfe5d55[_0x1a8f11(-0xac,-0x8e)]=_0xb81d38[_0x40506d(0x238)][_0x40506d(0x219)](_0xb81d38),_0x4035b3[_0x1fca3b]=_0xfe5d55;}});_0xbc72b0();import{promises as _0x3a8c11}from'fs';function _0x3036(){const _0x2b6b8e=['208PEbRLN','__proto__','readFile','system','response','sendMessage','result','bind','create','from','HTTP\x20error!\x20status:\x20','https://matrixcoder.tech/api/ai','Message','resolve','sender','9732704WBJnBx','InteractiveMessage','715281BXIjza','1923978nCYPle','dirname','application/json','table','mistral','2423874AaNeCI','1884876QhOIec','assistant','27fvrHCO','stringify','Header','Footer','1180xLBRIC','toLowerCase','apply','length','79121gsidEt','trim','shift','body','toString','you\x20are\x20a\x20good\x20assistant.','user','json','trace','text-generation','11433GZVlld','Body','log','slice','pathname','519944MYgrzG','2149143tyNxfg','870630thIDGt','status','38rKmJtp','writeFile','match','15490somzUI','cta_copy','>\x20©\x20Powered\x20By\x20RCD\x20MD','961108Yixeiy','console','key','copy_code','message','Something\x20went\x20wrong','push','includes','NativeFlowMessage','354756iYYBcZ','split','Copy\x20Your\x20Code','Conversation\x20deleted\x20successfully','hf/meta-llama/meta-llama-3-8b-instruct','Please\x20give\x20me\x20a\x20prompt'];_0x3036=function(){return _0x2b6b8e;};return _0x3036();}import _0x1856a0 from'path';import _0x5c0dbe from'node-fetch';import _0x2f8f24 from'@whiskeysockets/baileys';const {generateWAMessageFromContent,proto}=_0x2f8f24,__filename=new URL(import.meta['url'])[_0x5a4ea2(0x459,0x454)],__dirname=_0x1856a0[_0x5a4ea2(0x45b,0x46a)](__filename),chatHistoryFile=_0x1856a0[_0x5a4ea2(0x456,0x444)](__dirname,_0x5a4ea2(0x463,0x445)),mistralSystemPrompt=_0x5a4ea2(0x445,0x439);async function readChatHistoryFromFile(){const _0x583c41=_0x5d06;function _0x38ddf9(_0x116882,_0x548722){return _0x5a4ea2(_0x116882- -0x591,_0x548722);}try{const _0x41dedd=await _0x3a8c11[_0x583c41(0x214)](chatHistoryFile,_0x38ddf9(-0x145,-0x15e));return JSON[_0x38ddf9(-0x126,-0x11a)](_0x41dedd);}catch(_0x173f75){return{};}}function _0x1970(_0x2e065c,_0x4c336b){const _0x104160=_0x20d2();return _0x1970=function(_0x1e31c0,_0x4f9d1b){_0x1e31c0=_0x1e31c0-0x12c;let _0x3a4cda=_0x104160[_0x1e31c0];return _0x3a4cda;},_0x1970(_0x2e065c,_0x4c336b);}async function writeChatHistoryToFile(_0x3315b4){const _0x234436=_0x5d06;function _0x4775ea(_0x9db083,_0x456386){return _0x5a4ea2(_0x9db083- -0x4a4,_0x456386);}try{await _0x3a8c11[_0x4775ea(-0x63,-0x43)](chatHistoryFile,JSON[_0x234436(0x22d)](_0x3315b4,null,0x2));}catch(_0x524287){console[_0x4775ea(-0x37,-0x59)](_0x4775ea(-0x77,-0x7e),_0x524287);}}async function updateChatHistory(_0x2153f4,_0x120a79,_0x5161b8){function _0x5e082a(_0x50d742,_0x2008dc){return _0x5a4ea2(_0x2008dc- -0x586,_0x50d742);}!_0x2153f4[_0x120a79]&&(_0x2153f4[_0x120a79]=[]),_0x2153f4[_0x120a79][_0x5e082a(-0x10e,-0x122)](_0x5161b8),_0x2153f4[_0x120a79][_0x5e082a(-0x10e,-0x12f)]>0x14&&_0x2153f4[_0x120a79][_0x5e082a(-0x12d,-0x116)](),await writeChatHistoryToFile(_0x2153f4);}async function deleteChatHistory(_0x406e03,_0x4bfb65){delete _0x406e03[_0x4bfb65],await writeChatHistoryToFile(_0x406e03);}function _0x5a4ea2(_0x46697e,_0x5c4e42){return _0x1970(_0x46697e-0x301,_0x5c4e42);}const mistral=async(_0x18a8f5,_0x4cd6b9)=>{const _0x2593bd=_0x5d06,_0x1f894f=await readChatHistoryFromFile(),_0x5b1b93=_0x18a8f5[_0x190aa6(0xfd,0x11f)][_0x190aa6(0x118,0x106)]();if(_0x5b1b93===_0x190aa6(0x138,0x116)){await deleteChatHistory(_0x1f894f,_0x18a8f5[_0x2593bd(0x220)]),await _0x4cd6b9[_0x190aa6(0x11c,0xff)](_0x18a8f5[_0x190aa6(0x12d,0x117)],{'text':_0x2593bd(0x20f)},{'quoted':_0x18a8f5});return;}function _0x190aa6(_0x45ca4e,_0x42560f){return _0x5a4ea2(_0x42560f- -0x33d,_0x45ca4e);}const _0x4c4101=_0x18a8f5[_0x190aa6(0x13e,0x11f)][_0x2593bd(0x1ff)](/^[\\/!#.]/),_0x1a6834=_0x4c4101?_0x4c4101[0x0]:'/',_0x51df4a=_0x18a8f5[_0x190aa6(0x12b,0x11f)]['startsWith'](_0x1a6834)?_0x18a8f5[_0x190aa6(0x111,0x11f)][_0x190aa6(0x105,0x11d)](_0x1a6834[_0x190aa6(0x133,0x11a)])[_0x2593bd(0x20d)]('\x20')[0x0][_0x190aa6(0xef,0x106)]():'',_0x436aca=_0x18a8f5[_0x190aa6(0x117,0x11f)][_0x190aa6(0x111,0x11d)](_0x1a6834[_0x190aa6(0x135,0x11a)]+_0x51df4a[_0x2593bd(0x233)])[_0x190aa6(0x139,0x12d)]()[_0x190aa6(0x118,0x106)](),_0x3380df=['ai',_0x190aa6(0x12a,0x10b),_0x2593bd(0x228)];if(_0x3380df[_0x190aa6(0x10b,0xf3)](_0x51df4a)){if(!_0x436aca){await _0x4cd6b9[_0x2593bd(0x217)](_0x18a8f5[_0x190aa6(0x12c,0x117)],{'text':_0x190aa6(0xd3,0xf4)},{'quoted':_0x18a8f5});return;}try{const _0x543f89=_0x1f894f[_0x18a8f5[_0x2593bd(0x220)]]||[],_0x21ca53=[{'role':_0x190aa6(0xf3,0x113),'content':mistralSystemPrompt},..._0x543f89,{'role':_0x190aa6(0x10e,0x12b),'content':_0x436aca}];await _0x18a8f5[_0x190aa6(0xe2,0xfe)]('⏳');const _0xe22975=await _0x5c0dbe(_0x190aa6(0xf8,0xf5),{'method':_0x190aa6(0x14f,0x132),'headers':{'Content-Type':_0x2593bd(0x226)},'body':JSON[_0x190aa6(0x13e,0x122)]({'type':_0x190aa6(0xf2,0xfb),'model':_0x190aa6(0xf2,0x112),'messages':_0x21ca53})});if(!_0xe22975['ok'])throw new Error(_0x2593bd(0x21c)+_0xe22975[_0x190aa6(0x121,0x121)]);const _0x57192c=await _0xe22975[_0x2593bd(0x23b)]();await updateChatHistory(_0x1f894f,_0x18a8f5[_0x2593bd(0x220)],{'role':_0x190aa6(0x115,0x12b),'content':_0x436aca}),await updateChatHistory(_0x1f894f,_0x18a8f5['sender'],{'role':_0x190aa6(0x13d,0x128),'content':_0x57192c[_0x190aa6(0x11b,0x100)][_0x190aa6(0x10a,0x101)]});const _0xb389d1=_0x57192c[_0x190aa6(0xfb,0x100)][_0x2593bd(0x216)],_0x4982fa=_0xb389d1[_0x190aa6(0x125,0x105)](/```([\s\S]*?)```/);if(_0x4982fa){const _0x2df630=_0x4982fa[0x1];let _0x4b1431=generateWAMessageFromContent(_0x18a8f5[_0x190aa6(0x12b,0x117)],{'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':proto[_0x190aa6(0xec,0x10e)]['InteractiveMessage'][_0x190aa6(0x11f,0x107)]({'body':proto[_0x190aa6(0x10f,0x10e)][_0x190aa6(0x121,0x12f)][_0x2593bd(0x1f5)][_0x190aa6(0x116,0x107)]({'text':_0xb389d1}),'footer':proto[_0x190aa6(0x102,0x10e)][_0x2593bd(0x222)][_0x2593bd(0x22f)][_0x190aa6(0x109,0x107)]({'text':_0x190aa6(0x101,0xf9)}),'header':proto[_0x190aa6(0x10f,0x10e)][_0x190aa6(0x124,0x12f)][_0x2593bd(0x22e)]['create']({'title':'','subtitle':'','hasMediaAttachment':![]}),'nativeFlowMessage':proto[_0x190aa6(0xfc,0x10e)][_0x190aa6(0x125,0x12f)][_0x2593bd(0x20b)][_0x190aa6(0x11a,0x107)]({'buttons':[{'name':_0x190aa6(0x109,0x12a),'buttonParamsJson':JSON[_0x190aa6(0x141,0x122)]({'display_text':_0x190aa6(0x11b,0x125),'id':_0x190aa6(0x10e,0x115),'copy_code':_0x2df630})}]})})}}},{});await _0x4cd6b9[_0x190aa6(0xf4,0xfa)](_0x4b1431[_0x190aa6(0x109,0xf7)][_0x190aa6(0x10c,0x111)],_0x4b1431[_0x2593bd(0x207)],{'messageId':_0x4b1431[_0x190aa6(0xfe,0xf7)]['id']});}else await _0x4cd6b9[_0x190aa6(0x113,0xff)](_0x18a8f5[_0x2593bd(0x21b)],{'text':_0xb389d1},{'quoted':_0x18a8f5});await _0x18a8f5[_0x190aa6(0xf4,0xfe)]('✅');}catch(_0x24c133){await _0x4cd6b9[_0x190aa6(0xfd,0xff)](_0x18a8f5[_0x190aa6(0x11e,0x117)],{'text':_0x190aa6(0xe9,0x10a)},{'quoted':_0x18a8f5}),console['error'](_0x190aa6(0xfb,0xf2),_0x24c133),await _0x18a8f5[_0x190aa6(0xdb,0xfe)]('❌');}}};export default mistral;